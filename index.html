<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>UNYD Skills Landing â€” Sticky Tabs + Scrollspy + 3-Slide Strich-Slider</title>

  <style>
    :root{
      --bg0:#060812; --bg1:#0a1022;
      --panel:rgba(255,255,255,.06); --panel2:rgba(255,255,255,.09); --border:rgba(255,255,255,.12);
      --text:rgba(255,255,255,.92); --muted:rgba(255,255,255,.66); --faint:rgba(255,255,255,.46);
      --a:#7c5cff; --b:#2ee9a6; --c:#ffd166;
      --s6:6px; --s8:8px; --s10:10px; --s12:12px; --s16:16px; --s20:20px; --s24:24px; --s32:32px; --s40:40px; --s56:56px; --s72:72px;
      --r14:14px; --r18:18px; --r24:24px; --r999:999px;
      --h1:clamp(22px, 4.2vw, 52px); --h2:clamp(18px, 2.8vw, 30px);
      --tabsH: 76px;
      --shadow: 0 18px 50px rgba(0,0,0,.28);
      --ease: cubic-bezier(.2,.8,.2,1);

      /* Slider Shells */
      --shellBg: rgba(0,0,0,.42);
      --shellBg2: rgba(0,0,0,.34);
      --shellBd: rgba(255,255,255,.10);
      --shellGlow: 0 18px 50px rgba(0,0,0,.40);
      --shellR: 50px;
    }
    @media (prefers-reduced-motion: reduce){
      *{ transition-duration:0.001ms !important; animation-duration:0.001ms !important; scroll-behavior:auto !important; }
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; }
    body{
      font: 400 16px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color: var(--text);
      background:
        radial-gradient(1100px 520px at 18% -10%, rgba(124,92,255,.22), transparent 60%),
        radial-gradient(900px 520px at 86% 6%, rgba(46,233,166,.14), transparent 60%),
        radial-gradient(900px 520px at 60% 92%, rgba(255,209,102,.08), transparent 65%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* ===== Mobile polish (ONLY mobile) ===== */
    @media (max-width: 720px){
      body{
        font-size: 17px;
        line-height: 1.5;
        background:
          radial-gradient(760px 520px at 22% -10%, rgba(124,92,255,.32), transparent 62%),
          radial-gradient(720px 520px at 86% 6%, rgba(46,233,166,.20), transparent 64%),
          radial-gradient(860px 520px at 60% 98%, rgba(255,209,102,.12), transparent 68%),
          linear-gradient(180deg, #050711, #090f21);
      }
    }

    .grid{
      position:fixed; inset:0; pointer-events:none; z-index:0; opacity:.26;
      background-image:
        linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.04) 1px, transparent 1px);
      background-size: 48px 48px;
      mask-image: radial-gradient(60% 55% at 50% 10%, rgba(0,0,0,1), transparent 70%);
    }
    @media (max-width:720px){
      .grid{ opacity:.18; background-size: 56px 56px; }
    }

    .glow{
      position:fixed; inset:-260px; pointer-events:none; z-index:0;
      filter: blur(38px);
      opacity:.85;
      background:
        radial-gradient(circle at 22% 18%, rgba(124,92,255,.28), transparent 58%),
        radial-gradient(circle at 74% 28%, rgba(46,233,166,.18), transparent 60%),
        radial-gradient(circle at 62% 86%, rgba(255,209,102,.12), transparent 62%);
      transform: translate3d(0,0,0);
      will-change: transform;
    }
    @media (max-width:720px){
      .glow{ filter: blur(44px); opacity:.95; }
    }

    .wrap{ width:min(1160px, calc(100% - 28px)); margin:0 auto; position:relative; z-index:1; }
    @media (max-width:720px){
      .wrap{ width:min(1160px, calc(100% - 20px)); }
    }

    /* ===== Intro (one-time) ===== */
    .sigOverlay{
      position:fixed; inset:0; z-index:80;
      display:grid; place-items:center;
      pointer-events:none; opacity:0;
      background:
        radial-gradient(60% 60% at 50% 40%, rgba(124,92,255,.18), transparent 62%),
        radial-gradient(50% 50% at 62% 55%, rgba(46,233,166,.14), transparent 62%),
        rgba(0,0,0,.32);
      backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
    }
    .sigOverlay.run{ opacity:1; animation: fadeOut 1200ms var(--ease) 950ms forwards; }
    @keyframes fadeOut{ to{ opacity:0; } }
    .sigMark{
      width:min(920px, calc(100% - 36px));
      border:1px solid rgba(255,255,255,.12);
      border-radius: 26px;
      background: rgba(10,12,20,.55);
      padding: 18px 18px 14px;
      box-shadow: 0 24px 80px rgba(0,0,0,.45);
      overflow:hidden; position:relative;
    }
    .sigMark:before{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg, transparent, rgba(124,92,255,.25), rgba(46,233,166,.18), transparent);
      transform: translateX(-120%);
      animation: sweep 900ms var(--ease) 120ms forwards;
    }
    @keyframes sweep{ to{ transform: translateX(120%); } }
    .sigLine{ display:flex; justify-content:space-between; gap:12px; font-size:12px; letter-spacing:.14em; text-transform: uppercase; color: rgba(255,255,255,.74); }
    .sigBig{ margin: 10px 0 0; font-weight: 800; letter-spacing:-.02em; font-size: clamp(16px, 2.6vw, 22px); }
    .sigSmall{ margin: 6px 0 0; color: rgba(255,255,255,.62); font-size: 13px; }

    /* ===== Entry ===== */
    .entry{
      padding: calc(env(safe-area-inset-top) + var(--s24)) 0 var(--s24);
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    @media (max-width:720px){
      .entry{ padding: calc(env(safe-area-inset-top) + 18px) 0 18px; }
    }

    .kicker{
      display:flex; align-items:center; gap:10px;
      font-size: 12px; letter-spacing:.14em; text-transform: uppercase;
      color: var(--faint); margin:0 0 10px;
    }
    @media (max-width:720px){
      .kicker{ font-size: 12px; letter-spacing:.16em; }
    }

    .title{ margin:0; font-size: var(--h1); letter-spacing:-.02em; line-height:1.06; }
    @media (max-width:720px){
      .title{ line-height:1.02; }
    }

    .sub{ margin: var(--s8) 0 0; color: var(--muted); max-width: 78ch; font-size: 14px; }
    @media (max-width:720px){
      .sub{ font-size: 15px; }
    }

    .snapRow{
      margin-top: var(--s16);
      display:flex; flex-wrap:wrap; gap:10px;
      padding-top: var(--s12);
      border-top:1px solid rgba(255,255,255,.10);
    }
    .chip{
      display:inline-flex; align-items:center; gap:10px;
      padding: 10px 12px;
      border-radius: var(--r999);
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 13px;
      user-select:none;
      transition: transform 160ms ease, background 160ms ease, color 160ms ease, border-color 160ms ease;
    }
    .chip:hover{ transform: translateY(-1px); background: rgba(255,255,255,.05); color: var(--text); border-color: rgba(124,92,255,.28); }
    .chip svg{ width:16px; height:16px; }
    @media (max-width:720px){
      .snapRow{ gap:8px; }
      .chip{ font-size: 14px; padding: 11px 13px; }
    }

    /* ===== Sticky tabs ===== */
    #tabsSpacer{ height:0; }
    .tabsWrap{
      position: sticky;
      top: 0;
      z-index: 50;
      padding-top: env(safe-area-inset-top);
      background: rgba(10,12,20,.72);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      border-bottom:1px solid var(--border);
    }
    .tabsWrap.is-fixed{
      position: fixed !important;
      top: 0; left: 0; right: 0;
      z-index: 9999;
    }
    .tabsInner{ padding: var(--s12) 0 var(--s12); }
    @media (max-width:720px){
      .tabsInner{ padding: 12px 0 12px; }
      .tabsWrap{ background: rgba(10,12,20,.82); }
    }

    .tabs{
      position:relative;
      display:flex;
      gap: 8px;
      overflow-x:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
      touch-action: pan-x;
      scroll-snap-type: x proximity;
      padding: 4px 0 6px;

      /* mobile UX: prevent parent scroll chaining */
      overscroll-behavior-x: contain;
    }
    .tabs::-webkit-scrollbar{ display:none; }

    /* tiny edge fade hint on mobile */
    .tabs:before,.tabs:after{
      content:"";
      position:sticky;
      top:0;
      width:18px;
      height:44px;
      flex:0 0 auto;
      pointer-events:none;
      z-index:3;
      opacity:0;
      transition: opacity 180ms ease;
    }
    .tabs:before{
      left:0;
      background: linear-gradient(90deg, rgba(10,12,20,.92), transparent);
    }
    .tabs:after{
      right:0;
      background: linear-gradient(270deg, rgba(10,12,20,.92), transparent);
    }
    @media (max-width:720px){
      .tabs{ gap:10px; padding: 6px 0 8px; }
      .tabs:before,.tabs:after{ opacity:1; height:48px; }
    }

    .pill{
      position:absolute;
      top: 0; left: 0;
      height: 44px; width: 140px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(124,92,255,.28), rgba(124,92,255,.10));
      border: 1px solid rgba(124,92,255,.32);
      box-shadow: 0 18px 36px rgba(124,92,255,.14);
      transform: translateX(0);
      transition: transform 260ms var(--ease), width 260ms var(--ease);
      will-change: transform, width;
      pointer-events:none;
    }
    @media (prefers-reduced-motion: reduce){ .pill{ transition:none; } }
    @keyframes pillPulse{
      0%{ filter: saturate(1) brightness(1); }
      50%{ filter: saturate(1.15) brightness(1.06); }
      100%{ filter: saturate(1) brightness(1); }
    }
    @media (prefers-reduced-motion: no-preference){
      .pill{ animation: pillPulse 2.8s ease-in-out infinite; }
    }
    @media (max-width:720px){
      .pill{ height: 48px; }
    }

    .tab{
      position:relative; z-index:1;
      flex:0 0 auto;
      height:44px;
      padding: 0 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: transparent;
      color: var(--muted);
      font-size: 13px;
      display:inline-flex; align-items:center; gap:10px;
      white-space:nowrap;
      cursor:pointer;
      user-select:none;
      scroll-snap-align: start;
      transition: transform 160ms ease, background 160ms ease, color 160ms ease;
    }
    .tab svg{ width:16px; height:16px; }
    .tab:hover{ color:var(--text); background: rgba(255,255,255,.04); transform: translateY(-1px); }
    .tab[aria-selected="true"]{ color:var(--text); }
    .tab:focus-visible{
      outline:none;
      border-color: rgba(124,92,255,.55);
      box-shadow: 0 0 0 3px rgba(124,92,255,.22);
    }
    @media (max-width:720px){
      .tab{ height:48px; font-size: 14px; padding: 0 16px; }
      .tab svg{ width:18px; height:18px; }
    }

    /* ===== Sections ===== */
    main{ padding: var(--s16) 0 var(--s72); }
    section[id]{ scroll-margin-top: calc(var(--tabsH) + env(safe-area-inset-top) + 12px); }
    @media (max-width:720px){
      main{ padding: 10px 0 64px; }
      section[id]{ scroll-margin-top: calc(var(--tabsH) + env(safe-area-inset-top) + 10px); }
    }

    .section{
      padding: var(--s40) 0;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    @media (max-width:720px){
      .section{ padding: 28px 0; }
    }

    .secHead{ display:flex; justify-content:space-between; gap: var(--s16); margin-bottom: var(--s16); }
    .secTitle{
      margin:0; font-size: var(--h2); letter-spacing:-.01em;
      display:flex; align-items:center; gap: 12px;
    }
    .secValue{ margin:6px 0 0; color: var(--muted); max-width: 72ch; font-size: 14px; }
    @media (max-width:720px){
      .secValue{ font-size: 15px; }
    }

    .micro{
      margin-top: var(--s16);
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--r24);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      padding: var(--s16);
      position:relative; overflow:hidden;
    }
    .micro:before{
      content:"";
      position:absolute;
      inset:-2px -2px auto auto;
      width: 260px; height: 260px;
      background: radial-gradient(circle at 35% 30%, rgba(46,233,166,.18), transparent 65%);
      filter: blur(2px);
      pointer-events:none;
    }
    .microTitle{ font-weight: 760; letter-spacing:-.01em; }
    .microDesc{ margin-top:6px; color: var(--muted); font-size: 13px; }
    .badges{ display:flex; flex-wrap:wrap; gap:10px; margin-top: var(--s12); }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      font-size: 12px;
    }
    .badge svg{ width:16px; height:16px; }
    @media (max-width:720px){
      .micro{ padding: 14px; }
      .microDesc{ font-size: 14px; }
      .badge{ font-size: 13px; padding: 8px 11px; }
    }

    /* ===== Slider (3 slides) ===== */
    .slider{
      margin-top: var(--s16);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--r24);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      overflow:hidden;
    }
    .sliderTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      padding: 12px 12px 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .sliderLabel{
      margin:0;
      font-size: 12px;
      letter-spacing:.14em;
      text-transform: uppercase;
      color: var(--faint);
      display:flex; align-items:center; gap:10px;
    }

    /* Controls Shell */
    .sliderControls{ display:flex; align-items:center; gap:10px; }
    .controlsShell{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 10px;
      border-radius: var(--shellR);
      background: linear-gradient(180deg, var(--shellBg), rgba(0,0,0,.28));
      border:1px solid var(--shellBd);
      box-shadow: var(--shellGlow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    @media (max-width:720px){
      .sliderTop{ flex-wrap:wrap; padding: 12px 12px 12px; }
      .sliderControls{ width:100%; justify-content:flex-end; }
      .controlsShell{ width:100%; justify-content:space-between; padding: 10px 10px; }
    }

    .ctrlBtn{
      width:34px; height:34px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      display:grid; place-items:center;
      cursor:pointer;
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease, filter 160ms ease;
    }
    .ctrlBtn:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.08);
      border-color: rgba(124,92,255,.28);
      box-shadow: 0 14px 30px rgba(124,92,255,.12);
      filter: saturate(1.05);
    }
    .ctrlBtn:active{ transform: translateY(0); }
    .ctrlBtn:focus-visible{ outline:none; box-shadow: 0 0 0 3px rgba(124,92,255,.22); }

    .ctrlBtn .chev{
      width:9px; height:9px;
      border-right:2px solid currentColor;
      border-bottom:2px solid currentColor;
      transform: rotate(-45deg);
      opacity:.92;
    }
    .ctrlBtn.prev .chev{ transform: rotate(135deg); }

    .ctrlBtn.play{
      width:auto;
      min-width: 104px;
      padding:0 16px;
      height:34px;
      border-radius: 999px;
      font-size:12px;
      letter-spacing:.14em;
      text-transform: uppercase;
      gap:10px;
      display:inline-flex;
      justify-content:center;
      align-items:center;
      color: rgba(255,255,255,.90);
      border: 1px solid rgba(46,233,166,.26);
      background:
        radial-gradient(70% 120% at 50% 0%, rgba(46,233,166,.18), transparent 62%),
        rgba(46,233,166,.06);
      box-shadow: 0 14px 30px rgba(46,233,166,.10);
    }
    .ctrlBtn.play:hover{
      border-color: rgba(46,233,166,.36);
      background:
        radial-gradient(70% 120% at 50% 0%, rgba(46,233,166,.22), transparent 62%),
        rgba(46,233,166,.08);
      box-shadow: 0 16px 34px rgba(46,233,166,.12);
    }
    .ctrlBtn.play.paused{
      border-color: rgba(255,209,102,.26);
      background:
        radial-gradient(70% 120% at 50% 0%, rgba(255,209,102,.18), transparent 62%),
        rgba(255,209,102,.06);
      box-shadow: 0 14px 30px rgba(255,209,102,.10);
    }
    .ctrlBtn.play.paused:hover{
      border-color: rgba(255,209,102,.36);
      background:
        radial-gradient(70% 120% at 50% 0%, rgba(255,209,102,.22), transparent 62%),
        rgba(255,209,102,.08);
    }
    .ctrlBtn .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(46,233,166,.95);
      box-shadow: 0 0 0 3px rgba(46,233,166,.15);
      flex:0 0 auto;
    }
    .ctrlBtn.play.paused .dot{
      background: rgba(255,209,102,.95);
      box-shadow: 0 0 0 3px rgba(255,209,102,.12);
    }

    .rail{
      display:flex; gap: 12px;
      overflow-x:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
      scroll-snap-type: x mandatory;
      padding: 12px;
      touch-action: pan-x;
      overscroll-behavior-x: contain;
    }
    .rail::-webkit-scrollbar{ display:none; }
    @media (max-width:720px){
      .rail{ padding: 12px 12px; gap:12px; }
    }

    .card{
      flex:0 0 auto;
      width: min(520px, 88vw);
      scroll-snap-align: start;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      border-radius: var(--r18);
      padding: var(--s16);
      position:relative;
      overflow:hidden;
      box-shadow: 0 12px 28px rgba(0,0,0,.18);
      transform: translateZ(0);
      transition: transform 180ms ease, border-color 180ms ease, background 180ms ease;
    }
    @media (max-width:720px){
      .card{ width: 92vw; padding: 14px; }
    }

    .card:before{
      content:"";
      position:absolute;
      inset:-2px -2px auto auto;
      width: 220px; height: 220px;
      background: radial-gradient(circle at 30% 30%, rgba(124,92,255,.18), transparent 65%);
      pointer-events:none;
      filter: blur(2px);
    }
    .card.is-active{
      border-color: rgba(124,92,255,.40);
      background: rgba(255,255,255,.045);
      box-shadow: 0 16px 42px rgba(124,92,255,.10), 0 12px 28px rgba(0,0,0,.22);
    }
    .card.is-active:after{
      content:"";
      position:absolute; inset:-2px;
      background: linear-gradient(90deg, transparent, rgba(46,233,166,.18), rgba(124,92,255,.22), transparent);
      transform: translateX(-120%);
      animation: sweep 700ms var(--ease) forwards;
      pointer-events:none;
      opacity:.55;
      mix-blend-mode: screen;
    }

    @media (hover:hover) and (pointer:fine){
      .card:hover{
        transform: translateY(-2px) scale(1.01);
        border-color: rgba(124,92,255,.35);
        background: rgba(255,255,255,.045);
      }
    }

    .cardTop{ display:flex; gap:12px; align-items:flex-start; }
    .ico{
      width:44px; height:44px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(124,92,255,.16), rgba(255,255,255,.03));
      display:grid; place-items:center;
      box-shadow: var(--shadow);
      flex:0 0 auto;
    }
    .ico svg{ width:22px; height:22px; }
    .cardTitle{ margin:0; font-weight: 780; letter-spacing:-.01em; line-height: 1.15; }
    .cardDesc{ margin:6px 0 0; color: var(--muted); font-size: 13px; max-width: 70ch; }
    @media (max-width:720px){
      .ico{ width:46px; height:46px; }
      .cardTitle{ font-size: 16px; }
      .cardDesc{ font-size: 14px; }
    }

    .tags{ display:flex; flex-wrap:wrap; gap:8px; margin-top: var(--s12); }
    .tag{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color: var(--muted);
      white-space:nowrap;
    }
    @media (max-width:720px){
      .tag{ font-size: 13px; padding: 7px 11px; }
    }

    /* Pagination Shell */
    .striches{
      padding: 0 12px 14px;
      display:flex;
      justify-content:center;
    }
    .strichShell{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: var(--shellR);
      background: linear-gradient(180deg, var(--shellBg2), rgba(0,0,0,.22));
      border: 1px solid var(--shellBd);
      box-shadow: var(--shellGlow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .strichBtn{
      border:0;
      background: transparent;
      cursor: pointer;
      padding: 2px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
    }

    .strich{
      height: 6px;
      width: 6px;
      border-radius: 999px;
      background: rgba(255,255,255,.30);
      overflow:hidden;
      position:relative;
      transition: width 220ms var(--ease), background 220ms var(--ease), opacity 220ms var(--ease);
      opacity: .9;
    }
    .strichBtn[aria-current="true"] .strich{
      width: 34px;
      background: rgba(255,255,255,.14);
      opacity: 1;
      box-shadow: 0 10px 24px rgba(124,92,255,.10);
    }

    @keyframes strichProg { from{ transform: scaleX(0); } to{ transform: scaleX(1); } }
    .strich > i{
      display:block;
      height:100%; width:100%;
      transform: scaleX(0);
      transform-origin: left;
      background: linear-gradient(90deg, rgba(124,92,255,1), rgba(46,233,166,.95));
      opacity: 0;
      will-change: transform, opacity;
    }
    .strichBtn[aria-current="true"] .strich > i{ opacity: 1; animation: none; }

    .strichBtn:focus-visible{
      outline:none;
      box-shadow: 0 0 0 3px rgba(124,92,255,.22);
      border-radius: 999px;
    }

    /* ===== Motion ===== */
    .reveal{ opacity:0; transform: translateY(14px); filter: blur(10px); }
    .reveal.in{
      opacity:1; transform: translateY(0); filter: blur(0);
      transition: opacity 760ms var(--ease), transform 760ms var(--ease), filter 760ms var(--ease);
    }
    .txt{ display:inline-block; }
    .txt .ch{
      display:inline-block;
      opacity:0;
      transform: translateY(12px);
      filter: blur(8px);
      will-change: transform, opacity, filter;
    }
    .txt.in .ch{
      opacity:1; transform: translateY(0); filter: blur(0);
      transition: opacity 560ms var(--ease), transform 560ms var(--ease), filter 560ms var(--ease);
    }

    /* ===== Footer ===== */
    footer{ padding: var(--s56) 0 var(--s72); }
    .foot{
      border:1px solid rgba(255,255,255,.12);
      border-radius: var(--r24);
      background: rgba(255,255,255,.03);
      padding: var(--s16);
      display:flex; flex-wrap:wrap; gap: var(--s16);
    }
    .foot .item{ min-width: 220px; display:flex; flex-direction:column; gap:4px; }
    .foot .item span{ font-size:12px; letter-spacing:.14em; text-transform: uppercase; color: var(--faint); }
    .foot .item b{ font-weight: 780; }

    @media (max-width: 520px){ .secHead{ flex-direction:column; align-items:flex-start; } }
  </style>
</head>

<body>
  <div class="grid" aria-hidden="true"></div>
  <div class="glow" id="glow" aria-hidden="true"></div>

  <div class="sigOverlay" id="sigOverlay" aria-hidden="true">
    <div class="sigMark">
      <div class="sigLine">
        <span>UNYD / Build Systems</span>
        <span>Scroll-Synced UI</span>
      </div>
      <div class="sigBig">Interaction first. Structure. Performance.</div>
      <div class="sigSmall">This intro plays once per session.</div>
    </div>
  </div>

  <!-- ICON SPRITE -->
  <svg width="0" height="0" style="position:absolute">
    <symbol id="i-spark" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l1.8 6.2L20 10l-6.2 1.8L12 18l-1.8-6.2L4 10l6.2-1.8L12 2z"/></symbol>
    <symbol id="i-plugin" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2a4 4 0 0 1 4 4v2h2a4 4 0 1 1-4 4v2a4 4 0 1 1-8 0v-2H4a4 4 0 1 1 4-4V6a4 4 0 0 1 4-4z"/></symbol>
    <symbol id="i-api" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4h16v16H4V4zm2 2v12h12V6H6zm1 2h10v2H7V8zm0 4h10v2H7v-2zm0 4h6v2H7v-2z"/></symbol>
    <symbol id="i-wave" viewBox="0 0 24 24"><path fill="currentColor" d="M3 12c2.5 0 2.5-4 5-4s2.5 4 5 4 2.5-4 5-4 2.5 4 5 4v2c-2.5 0-2.5-4-5-4s-2.5 4-5 4-2.5-4-5-4-2.5 4-5 4v-2z"/></symbol>
    <symbol id="i-ai" viewBox="0 0 24 24"><path fill="currentColor" d="M7 4h10v2h2v12h-2v2H7v-2H5V6h2V4zm0 4v12h10V8H7zm2 2h2v2H9v-2zm4 0h2v2h-2v-2z"/></symbol>
    <symbol id="i-grid" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4h7v7H4V4zm9 0h7v7h-7V4zM4 13h7v7H4v-7zm9 0h7v7h-7v-7z"/></symbol>
    <symbol id="i-bolt" viewBox="0 0 24 24"><path fill="currentColor" d="M13 2L3 14h8l-1 8 10-12h-8l1-8z"/></symbol>
    <symbol id="i-code" viewBox="0 0 24 24"><path fill="currentColor" d="M8.7 16.3L4.4 12l4.3-4.3L10.1 9 7.1 12l3 3-1.4 1.3zm6.6 0L13.9 15l3-3-3-3 1.4-1.3 4.3 4.3-4.3 4.3-1.3-1.7z"/></symbol>
    <symbol id="i-stack" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l9 5-9 5-9-5 9-5zm0 11l9 5-9 5-9-5 9-5z"/></symbol>
    <symbol id="i-lock" viewBox="0 0 24 24"><path fill="currentColor" d="M17 9h-1V7a4 4 0 0 0-8 0v2H7a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2zm-7-2a2 2 0 0 1 4 0v2h-4V7z"/></symbol>
    <symbol id="i-speed" viewBox="0 0 24 24"><path fill="currentColor" d="M12 4a9 9 0 1 0 9 9h-2a7 7 0 1 1-7-7V4zm6.6 4.1l-7.7 7.7 1.4 1.4 7.7-7.7-1.4-1.4z"/></symbol>
  </svg>

  <!-- ENTRY -->
  <header class="entry">
    <div class="wrap">
      <div class="kicker reveal">
        <svg width="18" height="18" style="color:var(--faint)"><use href="#i-spark"/></svg>
        <span class="txt" data-split> AI WordPress Developer</span>
      </div>
      <h1 class="title txt" data-split>Ã‡aÄŸdaÅŸ UÃ§ar</h1>
      <p class="sub reveal">Entwicklung performanter WordPress-Plugins: REST-APIs, saubere DatenflÃ¼sse, reaktive Live-States und integrierte AI-Funktionen â€“ solide & zukunftssicher gebaut.â€œ</p>

      <div class="snapRow reveal">
        <span class="chip"><svg><use href="#i-plugin"/></svg>Plugin Engineering</span>
        <span class="chip"><svg><use href="#i-api"/></svg>REST Imports</span>
        <span class="chip"><svg><use href="#i-wave"/></svg>PULSE Live UI</span>
        <span class="chip"><svg><use href="#i-ai"/></svg>AI Code Dev</span>
        <span class="chip"><svg><use href="#i-speed"/></svg>Performance</span>
        <span class="chip"><svg><use href="#i-lock"/></svg>Security</span>
      </div>
    </div>
  </header>

  <!-- STICKY FALLBACK SPACER -->
  <div id="tabsSpacer" aria-hidden="true"></div>

  <!-- STICKY TABS -->
  <div class="tabsWrap" id="tabsWrap">
    <div class="wrap tabsInner">
      <nav class="tabs" id="tabs" role="tablist" aria-label="Sektionen">
        <span class="pill" id="pill" aria-hidden="true"></span>
        <!-- Tabs will be generated by JS -->
      </nav>
    </div>
  </div>

  <main>
    <div class="wrap" id="sectionsRoot"></div>
  </main>

  <script>
    (() => {
      const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;

      const tabsWrap   = document.getElementById('tabsWrap');
      const tabsSpacer = document.getElementById('tabsSpacer');
      const tabs       = document.getElementById('tabs');
      const pill       = document.getElementById('pill');
      const glow       = document.getElementById('glow');
      const sigOverlay = document.getElementById('sigOverlay');
      const root       = document.getElementById('sectionsRoot');

      if(!tabsWrap || !tabs || !pill || !root) return;

      const DATA = [
        {
          id:"sec-plugins", tab:"WP Plugins", icon:"#i-plugin",
          title:"WordPress Plugin-Entwicklung",
          desc:"Module, Updates, Admin UX. Dinge bleiben wartbar â€” auch nach Monaten.",
          micro:{
            title:"Micro-Case: Token Flow + Admin Dashboard",
            desc:"REST endpoints, quotas, logs, retries â€” UI zeigt immer den echten Zustand.",
            badges:[["#i-api","Custom REST"],["#i-wave","State Machine"],["#i-lock","Permission Model"],["#i-speed","Fast UI"]]
          },
          sliderLabel:["#i-grid","Capabilities"],
          cards:[
            {icon:"#i-plugin", title:"Core + Module Architektur", desc:"Saubere Services, klare Grenzen, keine â€œHook-Suppeâ€.", tags:["âš’ï¸  Services","ðŸ‘¨ðŸ»â€ðŸ’» Hooks","ðŸ’« Versioning"]},
            {icon:"#i-lock",   title:"Security by Default", desc:"Nonces, caps,  sanitize + permission callbacks konsequent.", tags:["ðŸŽ« Nonces"," ðŸ‘¥ Caps","âœ… Validate"]},
            {icon:"#i-speed",  title:"Performance & Loading Rules", desc:"Nur laden, wenn nÃ¶tig. Admin bleibt snappy, Frontend bleibt clean.", tags:["â³ Lazy Load","ðŸ’· Budget","ðŸš¯ No Jank"]},
          ]
        },
        {
          id:"sec-rest", tab:"REST & Data", icon:"#i-api",
          title:"REST & Data Flows",
          desc:"Predictable responses â†’ ruhige UI. Keine Ãœberraschungen beim State.",
          sliderLabel:["#i-api","Capabilities"],
          cards:[
            {icon:"#i-api",   title:"Schema + Validation", desc:"Inputs/Outputs definiert â†’ weniger Bugs, bessere Clients.", tags:["ðŸ—ï¸ Schema","â— Errors","ðŸ“– Pagination"]},
            {icon:"#i-lock",  title:"Auth + Permissions", desc:"Capabilities, nonce/JWT flows â€” abhÃ¤ngig vom Kontext, sauber.", tags:["ðŸ†”  Auth","ðŸ‘¥ Caps","ðŸ”’ Secure"]},
            {icon:"#i-speed", title:"Cache + Rate Limits", desc:"DB schÃ¼tzen, UX stabil halten, Backoff + retry rules.", tags:["ðŸš€ Cache","ðŸš§ Limits","â†©ï¸ Backoff"]},
          ]
        },
        {
          id:"sec-pulse", tab:"PULSE", icon:"#i-wave",
          title:"PULSE / Live UI",
          desc:"Echtzeit-Stati, Progress, retries â€” ohne Flackern oder â€œfake loadingâ€.",
          sliderLabel:["#i-wave","Capabilities"],
          cards:[
            {icon:"#i-wave",  title:"State Machine UI", desc:"idle â†’ loading â†’ sync â†’ error. Klar, nicht â€œrandomâ€.", tags:["ðŸ“ States","ðŸ‘Œ UX","ðŸ”® Predictable"]},
            {icon:"#i-speed", title:"Retry + Backoff", desc:"Fehler sichtbar, recoverbar. Keine dead ends.", tags:["ðŸ” Retry","âœ‹ Backoff","ðŸ¥ Recovery"]},
            {icon:"#i-lock",  title:"Safe Failure Modes", desc:"Timeouts, fallbacks, logs â€” Kontrolle behalten.", tags:["â±ï¸ Timeout","ðŸ¥ˆ Fallback","ðŸ“ Logs"]},
          ]
        },
        {
          id:"sec-ai", tab:"AI Dev", icon:"#i-ai",
          title:"AI Code Development",
          desc:"AI als Feature: Guardrails, Quotas, stabile Outputs â€” nicht â€œmagischâ€.",
          sliderLabel:["#i-ai","Capabilities"],
          cards:[
            {icon:"#i-ai",   title:"Constraints + Validation", desc:"Outputs prÃ¼fen, strukturieren, notfalls deterministisch fallbacken.", tags:["â›“ï¸ Constraints","âœ… Validate","ðŸ¥ˆ Fallback"]},
            {icon:"#i-lock", title:"Safety Layer", desc:"Input filter, policy checks, safe modes â€” ohne UX zu killen.", tags:["ðŸ” Filter","âš–ï¸ Rules","ðŸ”’ Safe"]},
            {icon:"#i-speed",title:"Quota / Cost Control", desc:"Caching + limits + logs â€” Kosten und Usage transparent.", tags:["ðŸ“Š Quota","ðŸš€ Cache","ðŸ“ Logs"]},
          ]
        },
        {
          id:"sec-uiux", tab:"UI / UX", icon:"#i-grid",
          title:"UI / UX",
          desc:"Kompetenz sichtbar machen: Hierarchie, Feedback, Motion â€” clean.",
          sliderLabel:["#i-grid","Capabilities"],
          cards:[
            {icon:"#i-grid",  title:"Scroll-Synced Navigation", desc:"Tabs folgen dem Content. Keine â€œHero-Storyâ€, nur Struktur.", tags:["ðŸ“ Scrollspy","ðŸ“Œ Sticky","ðŸŒ± Native"]},
            {icon:"#i-lock",  title:"A11y + Keyboard", desc:"Tablist, aria-selected, focus visible, reduced motion â€” fertig.", tags:["â™¿ï¸ A11y","ðŸŽ¯ Focus","âœ‚ï¸ Reduced"]},
            {icon:"#i-speed", title:"Micro-Feedback", desc:"States, hover, tap feedback â€” â€œapp-likeâ€, nicht laut.", tags:["ðŸŽ­ States","ðŸŽ¬ Motion","ðŸ’Ž Clarity"]},
          ]
        },
        {
          id:"sec-perf", tab:"Performance", icon:"#i-bolt",
          title:"Performance",
          desc:"Lean, kein Framework-Ballast nur fÃ¼r Scrollspy/Slider.",
          sliderLabel:["#i-bolt","Capabilities"],
          cards:[
            {icon:"#i-speed", title:"No Expensive Scroll Loops", desc:"rAF-throttle + stabile Schwelle. Keine CPU-Spikes.", tags:["âš¡ rAF","ðŸ›ï¸ Stable","ðŸ’¸ Cheap"]},
            {icon:"#i-bolt",  title:"GPU-safe Motion", desc:"Nur transform/opacity/filter â€” keine Layout-Katastrophe.", tags:["âš™ï¸ GPU","ðŸ§± No Reflow","ðŸŒŠ Smooth"]},
            {icon:"#i-lock",  title:"Reduced Motion Support", desc:"Animationen werden respektvoll reduziert (A11y).", tags:["â™¿ï¸ A11y","ðŸ¤ Reduced","ðŸ¤ Respect"]},
          ]
        },
        {
          id:"sec-stack", tab:"Stack", icon:"#i-stack",
          title:"Tools & Stack",
          desc:"WP Â· PHP Â· REST Â· JS Â· CSS â€” mit System, nicht nur â€œkann ichâ€.",
          sliderLabel:["#i-stack","Capabilities"],
          cards:[
            {icon:"#i-plugin", title:"WordPress Internals", desc:"Hooks, CPT, Meta, Admin Screens, Upgrade Paths.", tags:["ðŸª Hooks","ðŸ”‘ Admin","ðŸ“¦ CPT"]},
            {icon:"#i-api",    title:"REST + Client Contracts", desc:"Schema, auth, cache â€” stabile Clients ohne Ãœberraschungen.", tags:["ðŸ§¬ Schema","ðŸ«† Auth","ðŸš€ Cache"]},
            {icon:"#i-code",   title:"Frontend Systems", desc:"Observer patterns, motion, sliders, a11y â€” clean.", tags:["ðŸ”„ IO","ðŸŽ¬ Motion","â™¿ï¸ A11y"]},
          ]
        }
      ];

      // Build Tabs + Sections
      const tabFrag = document.createDocumentFragment();
      const secFrag = document.createDocumentFragment();

      DATA.forEach((d, idx) => {
        // Tabs
        const btn = document.createElement('button');
        btn.className = 'tab';
        btn.type = 'button';
        btn.setAttribute('role','tab');
        btn.dataset.target = d.id;
        btn.setAttribute('aria-selected', idx===0 ? 'true':'false');
        btn.tabIndex = idx===0 ? 0 : -1;
        btn.innerHTML = `<svg><use href="${d.icon}"></use></svg>${d.tab}`;
        tabFrag.appendChild(btn);

        // Section
        const sec = document.createElement('section');
        sec.className = 'section reveal';
        sec.id = d.id;
        sec.setAttribute('data-section','');

        const micro = d.micro ? `
          <div class="micro reveal">
            <div class="microTitle">${d.micro.title}</div>
            <div class="microDesc">${d.micro.desc}</div>
            <div class="badges">
              ${d.micro.badges.map(b=>`<span class="badge"><svg><use href="${b[0]}"></use></svg>${b[1]}</span>`).join('')}
            </div>
          </div>
        ` : '';

        sec.innerHTML = `
          <div class="secHead">
            <div>
              <h2 class="secTitle txt" data-split><svg width="20" height="20"><use href="${d.icon}"></use></svg>${d.title}</h2>
              <p class="secValue">${d.desc}</p>
            </div>
          </div>

          ${micro}

          <div class="slider reveal" data-slider3>
            <div class="sliderTop">
              <p class="sliderLabel"><svg width="18" height="18" style="color:var(--faint)"><use href="${d.sliderLabel[0]}"></use></svg>${d.sliderLabel[1]}</p>

              <div class="sliderControls">
                <div class="controlsShell" role="group" aria-label="Slider Steuerung">
                  <button class="ctrlBtn prev" type="button" aria-label="ZurÃ¼ck"><span class="chev"></span></button>
                  <button class="ctrlBtn play" type="button" aria-label="Pause" data-role="toggle">
                    <span class="dot"></span><span class="label">Pause</span>
                  </button>
                  <button class="ctrlBtn next" type="button" aria-label="Weiter"><span class="chev"></span></button>
                </div>
              </div>
            </div>

            <div class="rail">
              ${d.cards.map(c => `
                <article class="card">
                  <div class="cardTop">
                    <div class="ico"><svg><use href="${c.icon}"></use></svg></div>
                    <div>
                      <p class="cardTitle">${c.title}</p>
                      <p class="cardDesc">${c.desc}</p>
                      <div class="tags">${c.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div>
                    </div>
                  </div>
                </article>
              `).join('')}
            </div>

            <div class="striches" aria-label="Slider Pagination">
              <div class="strichShell" role="tablist" aria-label="Slider Punkte">
                <button class="strichBtn" type="button" aria-current="true"><span class="strich"><i></i></span></button>
                <button class="strichBtn" type="button" aria-current="false"><span class="strich"><i></i></span></button>
                <button class="strichBtn" type="button" aria-current="false"><span class="strich"><i></i></span></button>
              </div>
            </div>
          </div>
        `;
        secFrag.appendChild(sec);
      });

      tabs.appendChild(tabFrag);
      root.appendChild(secFrag);

      const tabBtns  = Array.from(tabs.querySelectorAll('.tab'));
      const sections = tabBtns.map(b => document.getElementById(b.dataset.target)).filter(Boolean);

      /* ===== One-time intro ===== */
      if (sigOverlay) {
        if (!prefersReduced) {
          const key = 'unyd_intro_seen_v2';
          if (!sessionStorage.getItem(key)) {
            sessionStorage.setItem(key, '1');
            sigOverlay.classList.add('run');
            setTimeout(()=> sigOverlay.remove(), 2600);
          } else sigOverlay.remove();
        } else sigOverlay.remove();
      }

      /* ===== Sticky fallback (100% robust) ===== */
      let tabsTopY = 0;

      function measureTabsH(){
        const h = Math.round(tabsWrap.getBoundingClientRect().height);
        document.documentElement.style.setProperty('--tabsH', h + 'px');
        return h;
      }
      function updateAnchor(){
        tabsTopY = tabsSpacer.getBoundingClientRect().top + window.scrollY;
      }
      function applyFixed(){
        const h = measureTabsH();
        const shouldFix = window.scrollY >= tabsTopY;
        if (shouldFix){
          if(!tabsWrap.classList.contains('is-fixed')) tabsWrap.classList.add('is-fixed');
          tabsSpacer.style.height = h + 'px';
        } else {
          tabsWrap.classList.remove('is-fixed');
          tabsSpacer.style.height = '0px';
        }
      }
      measureTabsH(); updateAnchor(); applyFixed();

      /* ===== Split text ===== */
      function splitText(el){
        if(el.dataset.splitted === '1') return;
        const text = (el.textContent || '').trim();
        if(!text) return;
        el.dataset.splitted = '1';
        el.textContent = '';
        for(let i=0;i<text.length;i++){
          const sp = document.createElement('span');
          sp.className = 'ch';
          sp.textContent = text[i] === ' ' ? '\u00A0' : text[i];
          sp.style.transitionDelay = prefersReduced ? '0ms' : `${i*18}ms`;
          el.appendChild(sp);
        }
      }
      document.querySelectorAll('[data-split]').forEach(splitText);

      /* ===== Reveal (replay) ===== */
      const revealIO = new IntersectionObserver((entries)=>{
        for(const e of entries){
          if(e.isIntersecting) e.target.classList.add('in');
          else e.target.classList.remove('in');
        }
      }, { threshold: 0.12 });
      document.querySelectorAll('.reveal, .txt').forEach(el => revealIO.observe(el));

      /* ===== Parallax glow (cheap) ===== */
      if(!prefersReduced && glow){
        let gTick=false;
        addEventListener('scroll', ()=>{
          if(gTick) return;
          gTick=true;
          requestAnimationFrame(()=>{
            const y = window.scrollY || 0;
            glow.style.transform = `translate3d(${Math.round(y * -0.02)}px, ${Math.round(y * -0.03)}px, 0)`;
            gTick=false;
          });
        }, { passive:true });
      }

      /* ===== Tabs pill + scroll ===== */
      let activeId = tabBtns[0]?.dataset.target || '';
      let programmatic = false;
      let lastUserTabsScrollAt = 0;

      function getBtn(id){ return tabBtns.find(b => b.dataset.target === id); }

      function movePill(btn){
        if(!btn) return;
        const listRect = tabs.getBoundingClientRect();
        const bRect = btn.getBoundingClientRect();
        const left = Math.round((bRect.left - listRect.left) + tabs.scrollLeft);
        const width = Math.round(bRect.width);
        pill.style.width = width + 'px';
        pill.style.transform = `translateX(${left}px)`;
      }

      function setActive(id, {focus=false, center=true} = {}){
        if(!id || id === activeId) return;
        activeId = id;

        tabBtns.forEach(b=>{
          const on = b.dataset.target === id;
          b.setAttribute('aria-selected', on ? 'true' : 'false');
          b.tabIndex = on ? 0 : -1;
        });

        const btn = getBtn(id);
        movePill(btn);

        const recentlyUserScrolled = (performance.now() - lastUserTabsScrollAt) < 900;
        if(btn && center && !recentlyUserScrolled){
          const cr = tabs.getBoundingClientRect();
          const br = btn.getBoundingClientRect();
          const targetLeft = tabs.scrollLeft + (br.left - cr.left) - (cr.width/2) + (br.width/2);
          tabs.scrollTo({ left: Math.max(0,targetLeft), behavior: prefersReduced ? 'auto' : 'smooth' });
        }
        if(focus) btn?.focus({ preventScroll:true });
      }

      function scrollToSection(section){
        const tabsH = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--tabsH')) || 76;
        const y = window.scrollY + section.getBoundingClientRect().top - tabsH - 12;
        window.scrollTo({ top: y, behavior: prefersReduced ? 'auto' : 'smooth' });
      }

      requestAnimationFrame(()=> movePill(getBtn(activeId)));

      /* ===== Mobile fix: drag-to-scroll for tabs (makes horizontal scroll feel "app-like") ===== */
      (() => {
        let down=false, startX=0, startLeft=0, moved=false;
        const isFinePointer = matchMedia('(pointer:fine)').matches;

        function onDown(e){
          if(e.button != null && e.button !== 0) return;
          down = true; moved=false;
          startX = e.clientX;
          startLeft = tabs.scrollLeft;
          tabs.setPointerCapture?.(e.pointerId);
          if(!isFinePointer) pauseAutoTabs?.(2200);
        }
        function onMove(e){
          if(!down) return;
          const dx = e.clientX - startX;
          if(Math.abs(dx) > 4) moved=true;
          tabs.scrollLeft = startLeft - dx;
          lastUserTabsScrollAt = performance.now();
          movePill(getBtn(activeId));
        }
        function onUp(){
          down=false;
        }

        tabs.addEventListener('pointerdown', onDown, { passive:true });
        tabs.addEventListener('pointermove', onMove, { passive:true });
        tabs.addEventListener('pointerup', onUp, { passive:true });
        tabs.addEventListener('pointercancel', onUp, { passive:true });

        // prevent accidental click when the user dragged
        tabs.addEventListener('click', (e)=>{
          if(moved){
            e.preventDefault();
            e.stopPropagation();
            moved=false;
          }
        }, true);
      })();

      let autoTabsTick = false;

      tabs.addEventListener('scroll', ()=>{
        if(!autoTabsTick) lastUserTabsScrollAt = performance.now();
        movePill(getBtn(activeId));
      }, { passive:true });

      // ===== Auto-Loop fÃ¼r Tabs (Desktop only; mobile off to avoid fighting touch) =====
      const isDesktopLoop = matchMedia('(min-width: 820px)').matches;
      let autoTabsMode = !prefersReduced && isDesktopLoop;
      let autoTabsPausedUntil = 0;

      let autoTabsDir = -1;
      let autoTabsSpeed = 0.35;

      function pauseAutoTabs(ms=1400){
        autoTabsPausedUntil = performance.now() + ms;
      }

      ['pointerdown','wheel','touchstart','focusin','mouseenter'].forEach(evt=>{
        tabs.addEventListener(evt, ()=>pauseAutoTabs(1800), { passive:true });
      });
      tabs.addEventListener('mouseleave', ()=>pauseAutoTabs(500), { passive:true });

      function autoTabsLoop(){
        requestAnimationFrame(autoTabsLoop);
        if(!autoTabsMode) return;
        if(document.hidden) return;
        if(performance.now() < autoTabsPausedUntil) return;

        const max = tabs.scrollWidth - tabs.clientWidth;
        if(max <= 0) return;

        autoTabsTick = true;
        let next = tabs.scrollLeft + (autoTabsDir * autoTabsSpeed);

        if(next < 0) next = max;
        if(next > max) next = 0;

        tabs.scrollLeft = next;
        autoTabsTick = false;
      }
      autoTabsLoop();

      tabBtns.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = btn.dataset.target;
          const sec = document.getElementById(id);
          if(!sec) return;
          programmatic = true;
          setActive(id, {focus:true, center:true});
          scrollToSection(sec);
          clearTimeout(scrollToSection._t);
          scrollToSection._t = setTimeout(()=> programmatic=false, prefersReduced ? 0 : 750);
        });
      });

      // keyboard tabs
      tabs.addEventListener('keydown', (e)=>{
        const currentIndex = tabBtns.findIndex(b => b.getAttribute('aria-selected') === 'true');
        if(currentIndex < 0) return;

        if(e.key === 'ArrowRight' || e.key === 'ArrowLeft'){
          e.preventDefault();
          const dir = e.key === 'ArrowRight' ? 1 : -1;
          const next = (currentIndex + dir + tabBtns.length) % tabBtns.length;
          tabBtns[next]?.focus({ preventScroll:true });
        }
        if(e.key === 'Enter' || e.key === ' '){
          const focused = document.activeElement;
          if(focused && focused.classList.contains('tab')){
            e.preventDefault();
            focused.click();
          }
        }
      });

      /* ===== Scrollspy (stable + bottom fix) ===== */
      let spyTick = false;
      function updateActiveFromScroll(){
        if(programmatic) return;

        const tabsH = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--tabsH')) || 76;
        const threshold = tabsH + 24;

        const nearBottom = (window.innerHeight + window.scrollY) >= (document.documentElement.scrollHeight - 8);
        if(nearBottom){
          const last = sections[sections.length - 1]?.id;
          if(last) setActive(last, {center:true});
          return;
        }

        let current = sections[0]?.id || activeId;
        for(const sec of sections){
          const t = sec.getBoundingClientRect().top;
          if(t <= threshold) current = sec.id;
          else break;
        }
        setActive(current, {center:true});
      }
      addEventListener('scroll', ()=>{
        if(spyTick) return;
        spyTick = true;
        requestAnimationFrame(()=>{
          updateActiveFromScroll();
          spyTick = false;
        });
      }, { passive:true });

      /* ===== Slider3 ===== */
      function setupSlider3(slider){
        const rail = slider.querySelector('.rail');
        const btns = Array.from(slider.querySelectorAll('.strichBtn'));
        const cards = Array.from(rail?.querySelectorAll('.card') || []);
        const prevBtn = slider.querySelector('.ctrlBtn.prev');
        const nextBtn = slider.querySelector('.ctrlBtn.next');
        const playBtn = slider.querySelector('[data-role="toggle"]');
        const playLabel = playBtn?.querySelector('.label');

        if(!rail || btns.length !== 3 || cards.length < 3 || !prevBtn || !nextBtn || !playBtn) return;

        const DUR = 4200;
        let index = 0;
        let playing = !prefersReduced;
        let timer = null;
        let inView = true;

        function setStrichActive(i){
          btns.forEach((b, idx)=> b.setAttribute('aria-current', idx===i ? 'true' : 'false'));
        }
        function setCardActive(i){
          cards.forEach((c, idx)=> c.classList.toggle('is-active', idx===i));
        }

        function restartProgress(i){
          btns.forEach((b, idx)=>{
            const bar = b.querySelector('.strich > i');
            if(!bar) return;

            bar.style.animation = 'none';
            bar.style.opacity = (idx===i && playing && inView && !prefersReduced) ? '1' : '0';
            void bar.offsetHeight;
            if(idx===i && playing && inView && !prefersReduced){
              bar.style.animation = `strichProg ${DUR}ms linear`;
            }
          });
        }

        function scrollToIndex(i, behavior){
          index = (i + 3) % 3;
          const target = cards[index];
          const left = target.offsetLeft;

          rail.scrollTo({ left, behavior: behavior ?? (prefersReduced ? 'auto' : 'smooth') });

          setStrichActive(index);
          setCardActive(index);
          restartProgress(index);
        }

        function setPlaying(on){
          playing = !!on;

          playBtn.classList.toggle('paused', !playing);
          playBtn.setAttribute('aria-label', playing ? 'Pause' : 'Play');
          if(playLabel) playLabel.textContent = playing ? 'Pause' : 'Play';

          clearInterval(timer);
          timer = null;

          restartProgress(index);

          if(playing && inView && !prefersReduced){
            timer = setInterval(()=> scrollToIndex(index + 1), DUR);
          }
        }

        btns.forEach((b, i)=> b.addEventListener('click', ()=> scrollToIndex(i)));
        prevBtn.addEventListener('click', ()=> scrollToIndex(index - 1));
        nextBtn.addEventListener('click', ()=> scrollToIndex(index + 1));
        playBtn.addEventListener('click', ()=> setPlaying(!playing));

        function updateIndexFromScroll(){
          const mid = rail.scrollLeft + (rail.clientWidth * 0.50);
          let best = 0, bestDist = Infinity;

          for(let i=0;i<3;i++){
            const c = cards[i];
            const cx = c.offsetLeft + (c.offsetWidth * 0.5);
            const d = Math.abs(cx - mid);
            if(d < bestDist){ bestDist = d; best = i; }
          }

          if(best !== index){
            index = best;
            setStrichActive(index);
            setCardActive(index);
            restartProgress(index);
          }
        }

        let rTick=false;
        rail.addEventListener('scroll', ()=>{
          if(rTick) return;
          rTick=true;
          requestAnimationFrame(()=>{ updateIndexFromScroll(); rTick=false; });
        }, { passive:true });

        rail.addEventListener('pointerdown', ()=> { if(playing) restartProgress(index); }, { passive:true });

        new ResizeObserver(updateIndexFromScroll).observe(rail);

        const viewIO = new IntersectionObserver((entries)=>{
          for(const e of entries){
            if(e.target !== slider) continue;
            inView = e.isIntersecting;
            setPlaying(playing);
          }
        }, { threshold: 0.25 });
        viewIO.observe(slider);

        document.addEventListener('visibilitychange', ()=>{
          if(document.hidden){
            clearInterval(timer); timer=null;
            restartProgress(index);
          } else {
            setPlaying(playing);
          }
        });

        updateIndexFromScroll();
        setPlaying(playing);
      }
      document.querySelectorAll('[data-slider3]').forEach(setupSlider3);

      /* ===== Global listeners ===== */
      addEventListener('resize', ()=>{
        measureTabsH();
        updateAnchor();
        applyFixed();
        requestAnimationFrame(()=> movePill(getBtn(activeId)));
      }, { passive:true });

      addEventListener('scroll', ()=>{ applyFixed(); }, { passive:true });

      requestAnimationFrame(updateActiveFromScroll);
    })();
  </script>
</body>
</html>
